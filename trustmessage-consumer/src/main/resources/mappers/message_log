CREATE TABLE message (
  id INT NOT NULL AUTO_INCREMENT,
  message VARCHAR(2000),
  biz_id INT,
  message_key VARCHAR(255),
  message_status INT,
  forward_topic VARCHAR(255),
  forward_key VARCHAR(255),
  verify_info VARCHAR(2000),
  try_count INT,
  create_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  update_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  next_retry_time TIMESTAMP,
  PRIMARY KEY (id),
  UNIQUE INDEX idx_message_key_biz_id (message_key, biz_id)
) ENGINE=InnoDB;
PARTITION BY RANGE (UNIX_TIMESTAMP(create_time)) (
  PARTITION p0 VALUES LESS THAN (UNIX_TIMESTAMP('2024-05-01 00:00:00')),
  PARTITION p1 VALUES LESS THAN (UNIX_TIMESTAMP('2024-06-01 00:00:00')),
  PARTITION p2 VALUES LESS THAN (UNIX_TIMESTAMP('2024-07-01 00:00:00'))
);